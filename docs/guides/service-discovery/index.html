<!doctype html>
<html>
<head>
  <title>KillrVideo - Service Discovery</title>
  <link href="/assets/css/bundle.css" rel="stylesheet">
  <link rel="icon" type="image/png" href="/assets/images/killrvideo-icon.png"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  
  <header>
    <nav class="nav">
      <div class="container">
        <div class="nav-left">
          <a href="/" class="nav-item">
            <img src="/assets/images/killrvideo.png" alt="KillrVideo logo" />
          </a>
        </div>

        <!-- Nav Toggle on mobile -->
        <span class="nav-toggle">
          <span></span>
          <span></span>
          <span></span>
        </span>

        <div class="nav-right nav-menu">
          <span class="nav-item">
            <a href="/getting-started/" class="button is-primary">
              <i class="fa fa-code fa-fw"></i> Get Started
            </a>
          </span>
          <a href="/docs/" class="nav-item">
            Docs
          </a>
          <a href="/support/" class="nav-item">
            Support
          </a>
          <a href="https://github.com/KillrVideo" target="_blank" class="nav-item">
            <i class="fa fa-github fa-2x"></i>
          </a>
        </div>
      </div>
    </nav>
  </header>

  
  
<section class="section">
  <div class="container">
    <div class="columns">
      <article class="column is-8-tablet is-9-widescreen content">
        <h1 id="service-discovery">Service Discovery</h1>
<p>One problem all microservices architectures face is how to do service discovery. How does
the Video Catalog service know where to go to talk to Cassandra? How does the Web Tier know
where to talk to the Video Catalog service? There are really two parts to the common way of 
solving this problem:</p>
<ol>
<li>Service Registration: We need a well-known location and some mechanism to register the
location of services.</li>
<li>Service Discovery: We need some way to query the location of services.</li>
</ol>
<p>In KillrVideo, we&#39;ve used a simplified approach for these functions, relying on two approaches.</p>
<ol>
<li><p>Since the components of KillrVideo are primarily deployed in Docker, the primary approach used is to
use the service aliases defined in the <code>docker-compose</code> files: <code>dse</code> for DataStax Enterprise, <code>backend</code> for the
microservice implementation, <code>generator</code> for the KillrVideo Data Generator, <code>web</code> for the KillrVideo Web Application,
<code>kafka</code> for the Kafka broker, and so on.</p>
</li>
<li><p>In certain configurations, we may be running components outside of Docker, in which case the aliases are not 
available. For example, we might be running the backend services in our IDE, or leveraging a database cluster
running in DataStax Constellation. To account for these cases, we use the environment variables that, when set,
should be used to override the aliases:</p>
<ul>
<li><code>KILLRVIDEO_DSE_CONTACT_POINTS</code> - comma separated list of hostnames or IP addresses that represent contact points 
for the cluster. Default value is <code>dse</code>.</li>
<li><code>KILLRVIDEO_KAFKA_BOOTSTRAP_SERVERS</code> - comma separated list of hostnames or IP addresses that represent bootstrap
servers for the Kafka cluster. Default value is <code>kafka</code>.</li>
<li><code>KILLRVIDEO_BACKEND</code> - hostnames or IP addresses that represent the location of the backend GRPC services 
Default value is <code>backend</code>.</li>
</ul>
</li>
</ol>
<p>Next, let&#39;s take a look at how we can use DataStax Studio to examine and analyze the data
in our KillrVideo instance.</p>
<p><a href="/docs/guides/datastax-studio/">Next: Using DataStax Studio</a></p>

      </article>
      <div class="column is-4-tablet is-3-widescreen">
        <nav class="docs panel">
          <div class="panel-heading">
            <span class="icon">
              <i class="fa fa-info"></i>
            </span>
            General Guides
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/architecture/">High Level Architecture Overview</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/web-tier/">Web Tier Implementation</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/microservices-tier/">Microservices Tier Implementation</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/feature-matrix/">Feature Matrix</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/docker/">Docker and Infrastructure Dependencies</a>

            
            
          </div>

          

          
          
          
            
          

          <div class="panel-block is-active">
            <a href="/docs/guides/service-discovery/">Service Discovery</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/datastax-studio/">Using DataStax Studio</a>

            
            
          </div>

          

          
          
          

          <div class="panel-block">
            <a href="/docs/guides/repositories/">Repositories Overview</a>

            
            
          </div>

          
        
        </nav>
      </div>
    </div>
  </div>
</section>


  
  <footer class="footer">
    <div class="container level">
      <div class="level-left">
        <div class="level-item">
          <p>
            <strong>KillrVideo</strong> is open source and available under an 
            <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2.0</a> license.
          <p>
          <p>
            <small>Site version <a href="https://github.com/KillrVideo/killrvideo.github.io/commit/19ff6888088d32e22e6045ba6433955802f561cc" target="_blank">19ff688</a></small>
          </p>
        </div>
      </div>
      <div class="level-right">
        <div class="level-right">
          <a class="button level-item" href="https://github.com/KillrVideo/killrvideo.github.io/tree/source/src/site/docs/guides/service-discovery.md" target="_blank">
            <i class="fa fa-github fa-fw"></i>Improve this page
          </a>
        </div>
      </div>
    </div>
  </footer>
  
  <script type="text/javascript" src="/assets/js/bundle.js"></script>

  
  
<script type="text/javascript">
  // Make doc navigation sticky once window is scrolled past 100px
  KillrVideo.sticky('nav.docs', 100, 20);
</script>

</body>
</html>